version: '3.9'
services:
  swagger-ui:
    image: swaggerapi/swagger-ui:latest
    restart: unless-stopped
    ports:
      - '8085:8080'
    environment:
      # Configure Swagger UI to support multiple API specs
      # Using HTTPS proxy URLs to avoid mixed content errors
      - URLS=[
          {"url":"/specs/audio-01/openapi.yaml","name":"Audio Player 01"},
          {"url":"/specs/audio-02/openapi.yaml","name":"Audio Player 02"},
          {"url":"/specs/video-01/openapi.yaml","name":"Video Control"},
          {"url":"/specs/camera-01/openapi.yaml","name":"Camera Control"}
        ]
      - BASE_URL=/
      - DEEP_LINKING=true
      - DISPLAY_REQUEST_DURATION=true
      - DEFAULT_MODELS_EXPAND_DEPTH=3
      - DEFAULT_MODEL_EXPAND_DEPTH=3
      - SHOW_EXTENSIONS=true
      - SHOW_COMMON_EXTENSIONS=true
      - TRY_IT_OUT_ENABLED=true
    networks:
      - default
      - fleet-network
networks:
  fleet-network:
    external: true
    name: vps_fleet-network
