# Fleet API Production Environment Configuration
# Copy to .env and fill in actual values
#
# Token Sources:
# - <GENERATED>: Use openssl commands below to generate secure random values
# - <ADMIN-PROVIDED>: Device-specific tokens configured by network administrator
# - <CONFIGURED>: Set based on your deployment environment

# =====================================================
# CORE CONFIGURATION
# =====================================================

# Database
DATABASE_URL=file:./data/fleet.db

# API Server
API_PORT=3005
API_BEARER=<GENERATED-32-CHARS>
# Generate with: openssl rand -hex 32
# Example: 1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t1u2v3w4x5y6z

# Device Adapter Configuration
DEVICE_ADAPTER=http
# CRITICAL: Must be 'http' for production, 'mock' for testing only

# =====================================================
# DEVICE AUTHENTICATION
# =====================================================

# Device Authentication Tokens
# Source: <ADMIN-PROVIDED> - Must match tokens configured on each Pi device
# Contact your network administrator for these device-specific tokens
AUDIO_PI_AUDIO_01_TOKEN=<ADMIN-PROVIDED-DEVICE-TOKEN>
AUDIO_PI_AUDIO_02_TOKEN=<ADMIN-PROVIDED-DEVICE-TOKEN>
HDMI_PI_VIDEO_01_TOKEN=<ADMIN-PROVIDED-DEVICE-TOKEN>
CAMERA_PI_CAMERA_01_TOKEN=<ADMIN-PROVIDED-DEVICE-TOKEN>
ZIGBEE_ON_VIDEO_01_TOKEN=<ADMIN-PROVIDED-DEVICE-TOKEN>

# =====================================================
# SECURITY & AUTHENTICATION
# =====================================================

# JWT Configuration
JWT_SECRET=<GENERATED-64-CHARS>
# Generate with: openssl rand -hex 64
# Example: 1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t1u2v3w4x5y6z7a8b9c0d1e2f3g4h5i6j7k8l

JWT_EXPIRES_IN=24h
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict

# Admin User Seeding (REMOVE after first deployment)
SEED_ADMIN_PASSWORD=<GENERATED-24-CHARS>
# Generate with: openssl rand -base64 24
# Example: 1A2b3C4d5E6f7G8h9I0j1K2l3M4n5O6p

# =====================================================
# AUDIO LIBRARY CONFIGURATION
# =====================================================

# Audio Library Management
LIBRARY_ROOT=/var/lib/fleet/audio-library
# Note: This directory must exist with proper permissions before starting containers
MAX_UPLOAD_BYTES=104857600
# 104857600 = 100MB per file upload

# =====================================================
# PERFORMANCE & POLLING
# =====================================================

# Worker & Polling Configuration
WORKER_POLL_INTERVAL_MS=2000
AUDIO_MAX_DRIFT_MS=600
SSE_HEARTBEAT_MS=15000
POLL_INTERVAL_MS=5000

# =====================================================
# SYSTEM CONFIGURATION
# =====================================================

# Device Configuration
DEVICE_YAML=../inventory/device-interfaces.yaml

# Observability
PROMETHEUS_ENABLED=true
LOG_LEVEL=info
# Options: error, warn, info, debug

# =====================================================
# QUICK SETUP COMMANDS
# =====================================================
#
# Generate all required secrets at once:
#
# export API_BEARER=$(openssl rand -hex 32)
# export JWT_SECRET=$(openssl rand -hex 64)
# export SEED_ADMIN_PASSWORD=$(openssl rand -base64 24)
#
# echo "API_BEARER=$API_BEARER"
# echo "JWT_SECRET=$JWT_SECRET"
# echo "SEED_ADMIN_PASSWORD=$SEED_ADMIN_PASSWORD"
#
# Then copy the generated values into this file.
# =====================================================